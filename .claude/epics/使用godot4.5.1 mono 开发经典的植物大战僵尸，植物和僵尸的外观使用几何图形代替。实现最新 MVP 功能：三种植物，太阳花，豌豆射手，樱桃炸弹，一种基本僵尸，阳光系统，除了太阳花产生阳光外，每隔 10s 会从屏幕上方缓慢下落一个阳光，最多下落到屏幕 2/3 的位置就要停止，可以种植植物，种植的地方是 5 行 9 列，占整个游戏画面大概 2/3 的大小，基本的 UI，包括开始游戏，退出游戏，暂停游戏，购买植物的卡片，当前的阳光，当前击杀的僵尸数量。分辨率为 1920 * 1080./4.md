---
name: UI界面开发
status: open
created: 2025-11-23T00:45:07Z
updated: 2025-11-23T08:32:54Z
github: [Will be updated when synced to GitHub]
depends_on: [001]
parallel: true
conflicts_with: []
---

# Task: UI界面开发

## Description
开发完整的用户界面系统，包括主菜单、游戏内HUD、暂停界面和游戏结束界面，为玩家提供清晰直观的交互体验。

## Acceptance Criteria
- [ ] 实现主菜单界面，包含游戏标题、开始游戏和退出游戏按钮
- [ ] 创建游戏内HUD，显示植物选择卡片、当前阳光、击杀计数和暂停按钮
- [ ] 实现暂停界面，包含继续游戏、返回主菜单选项
- [ ] 创建游戏结束界面，显示胜利/失败信息和重新开始选项
- [ ] 实现植物选择卡片UI，支持三种植物的显示和选择状态
- [ ] 确保所有UI在1920x1080分辨率下正确显示和交互

## Technical Details

### 主菜单界面 (MainMenu)
- 游戏标题使用简单的几何图形字体
- 开始游戏按钮 - 点击后进入游戏场景
- 退出游戏按钮 - 点击后关闭应用程序
- 简单的背景设计

### 游戏内HUD (GameHUD)
- **植物卡片区域**:
  - 太阳花卡片 (50阳光)
  - 豌豆射手卡片 (100阳光)
  - 樱桃炸弹卡片 (150阳光)
  - 选中状态和不可购买状态的视觉反馈
- **状态显示区域**:
  - 当前阳光数量 (最大999)
  - 击杀僵尸数量
  - 暂停按钮

### 暂停界面 (PauseMenu)
- 继续游戏按钮
- 返回主菜单按钮
- 半透明背景效果

### 游戏结束界面 (GameOverMenu)
- 胜利/失败消息显示
- 最终统计信息 (击杀数、生存时间等)
- 重新开始/返回主菜单选项

### UI技术实现
```csharp
public class MainMenu : Control
{
    private Button startButton;
    private Button exitButton;

    public override void _Ready();
    private void OnStartGamePressed();
    private void OnExitPressed();
}

public class GameHUD : Control
{
    private HBoxContainer plantCards;
    private Label sunlightLabel;
    private Label killCountLabel;
    private Button pauseButton;

    public void UpdateSunlightDisplay(int amount);
    public void UpdateKillCount(int count);
    public void UpdatePlantCardStates(int availableSunlight);
}

public class PlantCard : Control
{
    public PlantType PlantType { get; set; }
    public int Cost { get; set; }
    public bool IsSelected { get; set; }
    public bool IsAffordable { get; set; }

    private void UpdateVisualState();
    public void OnCardClicked();
}
```

### UI资源管理
- 使用 Godot 内置绘图API创建几何图形UI元素
- 实现简单的按钮状态变化效果
- 确保UI元素的正确层级和布局

## Dependencies
- [ ] Task 001: 项目基础搭建完成

## Effort Estimate
- Size: M
- Hours: 20
- Parallel: true (可与核心系统开发并行)

## Definition of Done
- [ ] 所有UI界面在1920x1080分辨率下正确显示
- [ ] 所有按钮和交互元素响应正常
- [ ] 植物卡片能够根据阳光数量正确更新状态
- [ ] 界面切换动画流畅自然
- [ ] UI系统能够正确响应游戏状态变化
- [ ] 所有UI通过用户体验测试
- [ ] 代码完成并通过集成测试